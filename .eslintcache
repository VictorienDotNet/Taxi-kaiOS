[{"/Users/victorien/Github/Taxi-kaiOS/src/index.js":"1","/Users/victorien/Github/Taxi-kaiOS/src/App.js":"2","/Users/victorien/Github/Taxi-kaiOS/src/hooks/index.js":"3","/Users/victorien/Github/Taxi-kaiOS/src/tools/index.js":"4","/Users/victorien/Github/Taxi-kaiOS/src/components/index.js":"5","/Users/victorien/Github/Taxi-kaiOS/src/tools/fetch.js":"6","/Users/victorien/Github/Taxi-kaiOS/src/hooks/useNavigation.js":"7","/Users/victorien/Github/Taxi-kaiOS/src/tools/getCurrentPosition.js":"8","/Users/victorien/Github/Taxi-kaiOS/src/hooks/useStorage.js":"9","/Users/victorien/Github/Taxi-kaiOS/src/hooks/usePrevious.js":"10","/Users/victorien/Github/Taxi-kaiOS/src/tools/geometry.js":"11","/Users/victorien/Github/Taxi-kaiOS/src/tools/openSettings.js":"12","/Users/victorien/Github/Taxi-kaiOS/src/tools/analytics.js":"13","/Users/victorien/Github/Taxi-kaiOS/src/components/Softkey/Softkey.js":"14","/Users/victorien/Github/Taxi-kaiOS/src/components/Map/Map.js":"15","/Users/victorien/Github/Taxi-kaiOS/src/components/Map/Markers.js":"16","/Users/victorien/Github/Taxi-kaiOS/src/components/Card/Card.js":"17","/Users/victorien/Github/Taxi-kaiOS/src/components/Onboarding/Onboarding.js":"18","/Users/victorien/Github/Taxi-kaiOS/src/components/Call/Call.js":"19","/Users/victorien/Github/Taxi-kaiOS/src/components/Button/Button.js":"20","/Users/victorien/Github/Taxi-kaiOS/src/components/Results/Results.js":"21","/Users/victorien/Github/Taxi-kaiOS/src/components/Call/icon-calling.js":"22","/Users/victorien/Github/Taxi-kaiOS/src/components/Onboarding/Earth.js":"23","/Users/victorien/Github/Taxi-kaiOS/src/components/Onboarding/GetPositionButton.js":"24"},{"size":168,"mtime":1677849101871,"results":"25","hashOfConfig":"26"},{"size":4568,"mtime":1677849101864,"results":"27","hashOfConfig":"26"},{"size":94,"mtime":1677849101871,"results":"28","hashOfConfig":"26"},{"size":152,"mtime":1677849101872,"results":"29","hashOfConfig":"26"},{"size":260,"mtime":1677849987528,"results":"30","hashOfConfig":"26"},{"size":1167,"mtime":1677849101872,"results":"31","hashOfConfig":"26"},{"size":1981,"mtime":1677849101871,"results":"32","hashOfConfig":"26"},{"size":2000,"mtime":1677974257095,"results":"33","hashOfConfig":"26"},{"size":4795,"mtime":1677849101871,"results":"34","hashOfConfig":"26"},{"size":490,"mtime":1677849101871,"results":"35","hashOfConfig":"26"},{"size":594,"mtime":1677849101872,"results":"36","hashOfConfig":"26"},{"size":351,"mtime":1677849101872,"results":"37","hashOfConfig":"26"},{"size":521,"mtime":1677849101872,"results":"38","hashOfConfig":"26"},{"size":1780,"mtime":1677849101870,"results":"39","hashOfConfig":"26"},{"size":6465,"mtime":1677849101867,"results":"40","hashOfConfig":"26"},{"size":1000,"mtime":1677849101868,"results":"41","hashOfConfig":"26"},{"size":1973,"mtime":1677849101866,"results":"42","hashOfConfig":"26"},{"size":2488,"mtime":1677849101869,"results":"43","hashOfConfig":"26"},{"size":2598,"mtime":1677974277954,"results":"44","hashOfConfig":"26"},{"size":261,"mtime":1677849101865,"results":"45","hashOfConfig":"26"},{"size":2698,"mtime":1677849987528,"results":"46","hashOfConfig":"26"},{"size":2322,"mtime":1677974316040,"results":"47","hashOfConfig":"26"},{"size":474,"mtime":1677974385362,"results":"48","hashOfConfig":"26"},{"size":463,"mtime":1677849101869,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1rg4ogg",{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/victorien/Github/Taxi-kaiOS/src/index.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/App.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/hooks/index.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/tools/index.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/index.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/tools/fetch.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/hooks/useNavigation.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/tools/getCurrentPosition.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/hooks/useStorage.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/hooks/usePrevious.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/tools/geometry.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/tools/openSettings.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/tools/analytics.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Softkey/Softkey.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Map/Map.js",["99","100","101","102","103"],"import React, { useEffect, useState } from \"react\";\nimport L from \"leaflet\";\nimport { MapContainer, TileLayer, useMap } from \"react-leaflet\";\nimport { normalizeCoords } from \"../../tools/getCurrentPosition\";\nimport css from \"./Map.module.css\";\nimport { ReactComponent as Target } from \"./images/target.svg\";\nimport \"./Leaflet.1.7.1.css\";\n\n//export function Map({ center, children, zoom }) {\nexport const Map = React.forwardRef((props, ref) => {\n\tconst { center = [0, 0], children, keyboard = true, to } = props;\n\t/* SETUP REF */\n\t// This ref is use to update map parameters */\n\n\t/* DEFINE THE BOUNDS */\n\tlet [bounds, setBounds] = useState([]);\n\n\t/* We will define the higest and lowest bound's lattitudes and longitudes. By definition, latitude go from Nord to South with a scale of 90 to -90 and longitude go from West to Est with a scale of -180 to 180. If `A` is the Nord-Ouest corner, A.lgt should be the lowest value and A.lat should be the highest value. If `B` is the South-East corner, B.lgt should be the higgest value and B.lat should be the lowest value. */\n\t//N.B.: I could do it more simple https://stackoverflow.com/questions/27451152/fitbounds-of-markers-with-leaflet\n\n\tuseEffect(() => {\n\t\t// A and B are respectively the Nord-Ouest and South-East corner.\n\t\tconst A = { lat: null, lgt: null };\n\t\tconst B = { lat: null, lgt: null };\n\n\t\t// We will compare coords children\n\n\t\tif (children) {\n\t\t\tchildren.forEach((child) => {\n\t\t\t\tif (child && child.props.position) {\n\t\t\t\t\t// Marker should have a position property where the firs value of the array is the latitude and the second value of the array is the longitutde.\n\t\t\t\t\tlet C = child.props.position[0]; //lat\n\t\t\t\t\tlet D = child.props.position[1]; //lgt\n\n\t\t\t\t\t// A.lat should be the highest value\n\t\t\t\t\tA.lat = A.lat ? (A.lat > C ? A.lat : C) : C;\n\t\t\t\t\t// B.lat should be the lowest value\n\t\t\t\t\tB.lat = B.lat ? (B.lat < C ? B.lat : C) : C;\n\t\t\t\t\t// A.lgt should be the lowest value\n\t\t\t\t\tA.lgt = A.lgt ? (A.lgt < D ? A.lgt : D) : D;\n\t\t\t\t\t//B.lgt should be the higgest value\n\t\t\t\t\tB.lgt = B.lgt ? (B.lgt > D ? B.lgt : D) : D;\n\t\t\t\t}\n\t\t\t});\n\t\t\t//Create the Bounds Object\n\t\t\tsetBounds(L.latLngBounds(L.latLng(A.lat, A.lgt), L.latLng(B.lat, B.lgt)));\n\t\t} else {\n\t\t\tsetBounds(L.latLngBounds(L.latLng(30, -60), L.latLng(-30, 60)));\n\t\t}\n\t}, [children]);\n\n\tvar mapboxUrl =\n\t\t\"https://api.mapbox.com/styles/v1/mapbox/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}\";\n\tvar accessToken =\n\t\t\"pk.eyJ1IjoiYnZpY3RvcmllbiIsImEiOiJja3RycWNhYmMwNGQ2MnVtaTNnMGNwMTJwIn0.HirDPOdiEpC0myYa1x45RA\";\n\tvar id = \"light-v9\";\n\n\tvar classicTiles =\n\t\t\"https://api.mapbox.com/styles/v1/mapbox/streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYnZpY3RvcmllbiIsImEiOiJja3RycWNhYmMwNGQ2MnVtaTNnMGNwMTJwIn0.HirDPOdiEpC0myYa1x45RA\";\n\n\tvar MyTiles =\n\t\t\"https://api.mapbox.com/styles/v1/bvictorien/cl668wlli001515rvn4aobdou/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYnZpY3RvcmllbiIsImEiOiJja3RycWNhYmMwNGQ2MnVtaTNnMGNwMTJwIn0.HirDPOdiEpC0myYa1x45RA\";\n\n\tvar osmUrl = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\n\n\treturn (\n\t\t<div\n\t\t\tclassName={css.Container}\n\t\t\tdata-fullscreen={keyboard}\n\t\t\tdata-update={to ? true : false}\n\t\t>\n\t\t\t{to && (\n\t\t\t\t<div className={css.Target}>\n\t\t\t\t\t<Target />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{center && (\n\t\t\t\t<MapContainer className={css.Map} keyboardPanDelta={0}>\n\t\t\t\t\t<TileLayer url={classicTiles} />\n\t\t\t\t\t{children}\n\t\t\t\t\t<Set bounds={bounds} ref={ref} to={to} keyboard={keyboard} />\n\t\t\t\t</MapContainer>\n\t\t\t)}\n\t\t\t<div className={css.Softkeys}>\n\t\t\t\t<div>Zoom out</div>\n\t\t\t\t<div>Select</div>\n\t\t\t\t<div>Zoom In</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}); /**/\n\n/* TRIGGER MAP UPDATE */\n\n/* MapContainer props are immutable: changing them after they have been set a first time will have no effect on the Map instance or its container. The Leaflet Map instance created by the MapContainer element can be accessed by child components using one of the provided hooks or the MapConsumer component. The component is use to triger re-render on the map */\n\nconst Set = React.forwardRef((props, ref) => {\n\tconst { bounds, to, keyboard } = props;\n\tconst map = useMap();\n\n\tif (ref) {\n\t\tref.current = map;\n\t}\n\n\t/* Here, we setup all keyboard actions*/\n\t//First, we define the incremental int from the keyboard\n\tconst i = 25;\n\t//Then, we define the onKeyDown function\n\tconst onKeyDown = (evt) => {\n\t\tif (evt.key === \"1\") {\n\t\t\tmap.zoomOut();\n\t\t} else if (evt.key === \"3\") {\n\t\t\tmap.zoomIn();\n\t\t}\n\t\tif (!keyboard) return false;\n\t\t//Events related to zoom\n\t\tif (evt.key === \"SoftLeft\") {\n\t\t\tmap.zoomOut();\n\t\t} else if (evt.key === \"SoftRight\") {\n\t\t\tmap.zoomIn();\n\t\t\t//Events related to zoom\n\t\t} else if (evt.key === \"ArrowUp\") {\n\t\t\tmap.panBy([0, -i], { animate: true });\n\t\t} else if (evt.key === \"ArrowDown\") {\n\t\t\tmap.panBy([0, i], { animate: true });\n\t\t} else if (evt.key === \"ArrowLeft\") {\n\t\t\tmap.panBy([-i, 0], { animate: true });\n\t\t} else if (evt.key === \"ArrowRight\") {\n\t\t\tmap.panBy([i, 0], { animate: true });\n\t\t\t//This last entry, trigger the onSubmit function and sent back the center of the map to the parent\n\t\t} else if (evt.key === \"Enter\") {\n\t\t\t//Go to display the results according to the coords\n\t\t\tif (to) {\n\t\t\t\tto({\n\t\t\t\t\tcoords: normalizeCoords(map.getCenter(), \"map\")\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t\tevt.preventDefault();\n\t};\n\t//Secondly,  We mount the onKeyDown when the app start\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"keydown\", onKeyDown);\n\t\treturn () => document.removeEventListener(\"keydown\", onKeyDown);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [keyboard]);\n\n\t// We adjust the bounds of the map. We can use fitBounds for no animation and flyToBounds for animation.\n\tuseEffect(() => {\n\t\tmap.fitBounds(bounds, {\n\t\t\t// I don't undertsand anything about the value of the padding.\n\t\t\tpadding: [24, 48]\n\t\t});\n\t}, [bounds, map]);\n\n\tmap.invalidateSize();\n\n\t//Suppose to disa\n\t//map.keyboard.disable();\n\n\treturn null;\n});\n\n/* USEFULL LINKS, DATA AND API */\n\n/**\n * We could improve the first view of the map by zooming on the country of the users. To perform that without knowing his accurate location, we could use IP localisation API. We found three API for that:\n \n 1. ipinfo.io\n * https://ipinfo.io/blog/replacing-getcurrentposition\n\n 2. country.is + country coords\n * https://www.npmjs.com/package/react-ipgeolocation\n * https://developers.google.com/public-data/docs/canonical/countries_csv\n \n 3. Abstract API\n * https://www.abstractapi.com/guides/how-to-use-ip-geolocation-in-react\n \n */\n","/Users/victorien/Github/Taxi-kaiOS/src/components/Map/Markers.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Card/Card.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Onboarding/Onboarding.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Call/Call.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Button/Button.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Results/Results.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Call/icon-calling.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Onboarding/Earth.js",[],"/Users/victorien/Github/Taxi-kaiOS/src/components/Onboarding/GetPositionButton.js",[],{"ruleId":"104","severity":1,"message":"105","line":52,"column":6,"nodeType":"106","messageId":"107","endLine":52,"endColumn":15},{"ruleId":"104","severity":1,"message":"108","line":54,"column":6,"nodeType":"106","messageId":"107","endLine":54,"endColumn":17},{"ruleId":"104","severity":1,"message":"109","line":56,"column":6,"nodeType":"106","messageId":"107","endLine":56,"endColumn":8},{"ruleId":"104","severity":1,"message":"110","line":61,"column":6,"nodeType":"106","messageId":"107","endLine":61,"endColumn":13},{"ruleId":"104","severity":1,"message":"111","line":64,"column":6,"nodeType":"106","messageId":"107","endLine":64,"endColumn":12},"no-unused-vars","'mapboxUrl' is assigned a value but never used.","Identifier","unusedVar","'accessToken' is assigned a value but never used.","'id' is assigned a value but never used.","'MyTiles' is assigned a value but never used.","'osmUrl' is assigned a value but never used."]